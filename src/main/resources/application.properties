server.port=8080
server.tomcat.connection-timeout=5000

ez.log.locale=en
ez.log.console=true
ez.log.file=true

ez.cors.allowed-origin=http://localhost:3000

ez.data.root=./data

spring.datasource.url=jdbc:h2:file:${ez.data.root}/scenarios;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver

spring.sql.init.mode=never

ez.startup.auto-create-tables=true

ez.ratelimit.max-requests-per-second=20
ez.ratelimit.ban-duration-seconds=30

ez.processes.admin.max=50
ez.processes.admin.timeout=30000
ez.processes.read.max=20
ez.processes.read.timeout=60000
ez.processes.compute.max=2
ez.processes.compute.timeout=300000

ez.source.crs=EPSG:4326
ez.target.crs=EPSG:32188

ez.zone.overlap-first-wins=true

# When true, response analysis only includes agents who had at least one car trip in baseline.
# When false, all agents (including walk-only, bike-only, pt-only) are in the denominator.
ez.emissions.exclude-non-car-agents=true

# When true, policy fleet pie chart counts unique vehicles that emitted.
# When false, counts total trips per vehicle type (a vehicle making 3 trips counts 3 times).
ez.emissions.fleet-count-by-vehicle=true

# Minimum distance difference (meters) to classify an agent as "rerouted".
# Below this threshold, distance differences are treated as noise, not meaningful reroutes.
ez.response.reroute-threshold-meters=50

# How to classify a PT trip with multiple transit modes (e.g., bus+subway transfer):
# "all" (default) — count once per distinct transit mode (bus+subway = 2 hits)
# "longest" — classify by the longest transit leg by distance (bus+subway = 1 hit)
# "first" — classify by the first transit leg encountered (bus+subway = 1 hit)
ez.response.multi-modal-pt=all

# Which legs appear in the trip legs table: "changed" (only legs where mode/distance/CO2 differs),
# "affected" (all legs for agents whose behavior changed), "all" (every leg for every agent).
ez.output.trip-legs-scope=changed

ez.hbefa.warm-file=average_warm.csv
ez.hbefa.cold-file=average_cold.csv
ez.hbefa.vehicle-types-file=vehicle-types.yml

ez.processes.compute.queue.enabled=false
ez.processes.compute.queue.timeout=60000
ez.processes.compute.queue.max-size=5

ez.scoring.scale-factor.walk=0.5
ez.scoring.scale-factor.bike=0.5
ez.scoring.scale-factor.car=0.5
ez.scoring.scale-factor.ev=0.5
ez.scoring.scale-factor.subway=0.5
ez.scoring.scale-factor.bus=0.5
ez.scoring.performing-utils-per-hr=6.0
ez.scoring.marginal-utility-of-money=1.0
ez.scoring.brain-exp-beta=2.0
ez.scoring.learning-rate=1.0
ez.scoring.car.marginal-utility-of-traveling=-6.0
ez.scoring.car.monetary-distance-rate=-0.0002
ez.scoring.pt.marginal-utility-of-traveling=-3.0
ez.scoring.walk.marginal-utility-of-traveling=-12.0
ez.scoring.bike.marginal-utility-of-traveling=-6.0

ez.strategy.change-exp-beta-weight=0.7
ez.strategy.reroute-weight=0.1
ez.strategy.subtour-mode-choice-weight=0.1
ez.strategy.time-allocation-mutator-weight=0.1
ez.strategy.subtour-modes=car,pt,walk,bike
ez.strategy.chain-based-modes=car,bike
ez.strategy.mutation-range=7200.0
ez.strategy.max-agent-plan-memory-size=5
ez.strategy.global-threads=4
ez.strategy.qsim-threads=4
